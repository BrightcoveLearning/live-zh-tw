---
title:在直播模塊 (SSAI) 中實施服務器端廣告
parent: Live Module 
---

<article class="bcls-article">
  <h1>在實時模塊中實施服務器端廣告</h1>
  <summary>在本主題中，您將學習如何在實時模塊中實現服務器端廣告。</summary>
  <section class="bcls-section">

<h2 id="Introduction">簡介</h2>

<p>實時模塊支持服務器端廣告插入（SSAI），因此可以在實時流中請求並顯示服務器端廣告。SSAI在現場活動期間提供以下主要功能：</p>

<ul>
	<li>由於廣告是在服務器端縫合到實時視頻流中的，因此它們不受廣告攔截器的影響</li>
	<li>廣告會插入從編碼器發送的提示點，或者您可以使用&nbsp;現場模塊控制室</li>
	<li>您可以配置&nbsp;<a href="#fill_slate">填充石板</a>&nbsp;填補所有未使用的廣告時間</li>
</ul>

<aside class="bcls-aside bcls-aside--information">
  <ul>
    <li>您的視訊雲端帳戶必須先設定為動態傳遞並啟用 SSAI，才能使用 SSAI，才能使用 SSAI。如需詳細資訊，請聯絡您的客戶經理</li>
  </ul>

</aside>

<p>本主題重點介紹實時事件期間所需的設置以及請求服務器端廣告的過程。</p>
</section>

<section class="bcls-section">
<h2 id="Configuring_the_server_side_ad_settings">配置服務器端廣告設置</h2>

<p>必須先配置服務器端廣告設置，然後才能投放服務器端廣告。服務器端廣告設置定義了廣告播放的各個方面，包括廣告調用，計時，信標和其他廣告配置選項。這些設置被配置為“管理"模塊中“服務器端廣告設置"的一部分。在此示例中，定義了一個簡單的廣告代碼。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-live-ad-config.png" width="600" height="900" /></figure>

<p>有關更多信息，請參見<a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">配置服務器端廣告設置</a>。</p>
</section>

<section class="bcls-section">
<h2 id="fill_slate">配置填充板</h2>

<p>填充板岩是當直播廣告中斷中的空白無法用動態投放的廣告填充時將顯示的視頻。如果所請求的廣告短於廣告休息時間，則將顯示填充列表，因此觀眾不會看到空白的播放器。請求伺服器端廣告之前，您應該至少設定一個填色板。廣告板被配置為“管理"模塊中“實時設置"的一部分。在此示例中，定義了顯示Brightcove徽標的填充板。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-fill-slate.png" /></figure>

<p>有關創建廣告列表的信息，請參見<a href="/admin/managing-live-settings.html">管理實時設置</a>。</p>
</section>

<section class="bcls-section">
<h2 id="Creating_a_live_event_that_supports_server_side_ads">創建支持服務器端廣告的現場活動</h2>

<p>為了使現場活動能夠顯示服務器端廣告，<strong>啟用服務器端廣告插入（SSAI）</strong>創建事件時必須選擇設置。有關使用“實時"模塊創建實時事件的完整信息，請參見<a href="/live-module/creating-and-managing-live-events-using-live-module.html">使用實時模塊創建和管理實時事件</a>。</p>

<aside class="bcls-aside bcls-aside--information">在創建事件之前，您應該已經配置了服務器端廣告設置並添加了至少一個填充選項板。</aside>

<p>要創建支持服務器端廣告的新直播事件，請按照以下步驟操作。</p>

<ol class="bcls-tasklist-restart">
	<li>開啟即時模組。</li>
	<li>在“管理事件"頁面中，單擊<strong>建立活動</strong>。</li>
	<li>根據需要輸入事件詳細信息。</li>
	<li>點擊<strong>高級選項</strong>擴展高級選項。</li>
	<li>查看<strong>啟用服務器端廣告插入（SSAI）</strong>。這將啟用服務器端廣告插入。</li>
	<li>選擇一個<strong>填充石板</strong>。當直播廣告片段中有空白無法填滿動態播放的廣告時，即會顯示填色板。</li>
	<li>當。。。的時候<strong>廣告音頻</strong>設置被選中後，廣告上的音頻電平將根據設置的調整進行歸一化。這可以用來協助確保廣告不會比內容大幅度大。布萊特灣建議您選取此選項。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-event-ssai-settings.png" width="600" height="900" /></figure>
	</li>
	<li>點擊<strong>建立活動</strong>。</li>
	<li>這&nbsp;控制室頁面&nbsp;將打開有關直播活動的詳細信息，包括&nbsp;<strong>流式傳輸端點（RTMP URL）</strong>&nbsp;和&nbsp;<strong>流名稱</strong>。這些值將由編碼器使用。</li>
	<li>配置編碼器並開始直播。</li>
	<li>默認，&nbsp;控制室預覽播放器將顯示無廣告流。除非選取即時廣告設定，  否則   控制室不會顯示廣告。使用播放器下方的下拉式清單來選取廣告設定。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-select-ad-config.png" /></figure>
	</li>
	<li><strong>（可選的）</strong>單擊加號按鈕 (<img alt="" src="/assets/images/general/18753/node18753-plus-icon.png" width="15" height="15" />) 以選擇其他廣告配置。這樣做會在「  控制室  」頁面上新增另一個預覽玩家。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-two-preview-players.png" /></figure>
	</li>
</ol>

<p>按一下預覽播放器下方的音量按鈕，即可控制哪個播放器音訊串流啟動。</p>

<aside class="bcls-aside bcls-aside--information">如果事件使用 RTMP 輸出，則廣告不會流式傳輸到 RTMP 輸出。將改為流式傳輸無廣告流。</aside><aside class="bcls-aside bcls-aside--information">如果事件正在被<a href="/live-module/publishing-live-event-facebook.html">直播到 Facebook</a>社交模塊中的功能，廣告將不會流式傳輸到 Facebook。將改為流式傳輸無廣告流。</aside>
</section>

<section class="bcls-section">
<h2 id="Requesting_an_ad">要求廣告</h2>

<p>要請求廣告，請點擊<strong>轉到廣告</strong>。按一下後，即可選取廣告片段的長度。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-goto-ad.png" width="500" height="800" /></figure>

<p>點擊<strong>插</strong>將廣告時段插入實時流。如果廣告沒有佔據整個廣告休息時間，則將顯示填充板岩（創建事件時選擇）。廣告將在   控制室   預覽播放器和使用直播模組發佈的播放器中看到。此範例顯示   控制室中顯示 2 則廣告  。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-two-ad-preview.png" /></figure>
</section>

<section class="bcls-section">
<h2 id="Publishing_the_live_event">發佈現場活動</h2>

<p>帶有服務器端廣告的實時流無法使用媒體模塊發布，而必須使用實時模塊來發布。</p>

<p>要為帶有服務器端廣告的直播活動生成嵌入代碼，請按照以下步驟操作：</p>

<ol class="bcls-tasklist-restart">
	<li>按一下事件以開啟 [控制室] 頁面。</li>
	<li>點擊<strong>發布和嵌入</strong>在左側導航欄中。</li>
	<li>選擇一個<strong>可用的播放器</strong>。<aside class="bcls-aside bcls-aside--information">如果事件配置為啟用服務器端廣告 (SSAI)、DVR 或多 CDN，則必須使用 Brightcove Player 版本 6.18.3 及更高版本。只有 6.18.3 及以上版本的玩家才會出現在下拉列表中。</aside>
	</li>
	<li>選擇<strong>廣告設定</strong>與播放器一起使用。廣告配置將確定哪些廣告出現在播放器中。</li>
	<li>點擊<strong>播放器網址</strong>在瀏覽器中預覽事件或複制要使用的嵌入代碼。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="" src="/assets/images/general/18753/node18753-publish.png" /></figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Publishing_a_remote_live_event">發布遠程現場活動</h2>

<p>如果要發布遠程實時事件，請按照下列步驟操作：</p>

<ol class="bcls-tasklist-restart">
  <li>
    <p>按照以下步驟創建直播活動後<a href="#Creating_a_live_event_that_supports_server_side_ads">以上所列</a>，返回<strong>居住</strong>模塊的<strong>控制室</strong>。
	</li>
	<li>
    <p>如果您知道廣告配置ID的值，則可以將其插入播放列表URL。</p>
    <p>在裡面<strong>居住</strong>模塊的<strong>控制室</strong>，複製<strong>播放網址</strong>。</p>
    <p></p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Playback URL" src="/assets/images/live-module/remote/playback-url.png" />
    <figcaption class="bcls-caption--image">播放網址</figcaption>
    </figure>
    <p>接下來，將您要使用的廣告配置ID（045f90cfd55187ff6e60c8）插入URL，如下所示：</p>

	<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/21e83ff8c229478e8c81416838eb6e1f/us-west-2/NA/<span class="bcls-highlight">045f90cfd55187ff6e60c8/</span>playlist.m3u8</code></pre>
<p>然後，從重新命名播放列表<code translate="No">playlist.m3u8</code>至<code translate="No">playlist_ssaiM.m3u8</code>。遠程資產應類似於以下內容：</p>

	<pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/21e83ff8c229478e8c81416838eb6e1f/us-west-2/NA/045f90cfd55187ff6e60c8/<span class="bcls-highlight">playlist_ssaiM.m3u8</span></code></pre>
<p>跳到第6步，並使用此播放列表URL。</p>
	</li>
  <li>
    <p>如果您不知道廣告配置ID的值，則可以按以下方式獲取完整的播放列表網址。選擇您要使用的廣告配置。 </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Select ad config" src="/assets/images/live-module/remote/select-ad-config.png" />
    <figcaption class="bcls-caption--image">選擇廣告配置</figcaption>
    </figure>
	</li>
  <li>
    <p>對於您的瀏覽器，打開網絡控制台選項卡。在這種情況下，我們使用的是Chrome瀏覽器。</p>
	</li>
  <li>
    <p>在網絡控制台中，搜索“playlist_ssaiM"。複製以“playlist_ssaiM.m3u8"結尾的URL。您可能需要刷新頁面，然後重新打開“網絡"選項卡。</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Network console" src="/assets/images/live-module/remote/network-console.png" />
    <figcaption class="bcls-caption--image">網絡控制台</figcaption>
    </figure>
    <aside class="bcls-aside bcls-aside--information">由於廣告配置 ID 包含在 URL 中，您的 SSAI URL 將根據您選擇的廣告配置而有所不同。</aside>
    <p>在此示例中，URL為：</p>
    <pre>
<code class="language-html" translate="No">https://bcovlive-a.akamaihd.net/21e83ff8c229478e8c81416838eb6e1f/us-west-2/NA/582ea6fafea84bf595f610b8ebbeeda8/playlist_ssaiM.m3u8</code></pre>
	</li>
  <li>
    <p>
      在Studio中，導航到<strong>媒體</strong>模塊並創建一個指向上一步中的播放列表URL的新的遠程資產。在左側菜單中，選擇<strong>+添加遠程視頻</strong>。
    </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add Remote Video" src="/assets/images/live-module/remote/add-remote-video.png" width="300" height="500"/>
    <figcaption class="bcls-caption--image">添加遠程視頻</figcaption>
    </figure>
  </li>
  <li>
    <p>
      在裡面<strong>添加遠程視頻</strong>進入一個<strong>影片名稱</strong>和播放列表網址。選擇<strong>保存</strong>按鈕。
    </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add Remote Video dialog" src="/assets/images/live-module/remote/remote-dialog.png" />
    <figcaption class="bcls-caption--image">添加遠程視頻對話框</figcaption>
    </figure>
  </li>
  <li>
    <p>
      現在，您有一個指向遠程實時流的視頻ID。您可以將其與帳戶中的任何播放器一起使用，以通過服務器端廣告流式傳輸實時內容。
    </p>
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Troubleshooting_live_stream_issues">即時串流問題疑難排解</h2>

<p>如果您需要進一步的幫助以使現場活動開始進行，可以<a href="https://supportportal.brightcove.com/create">聯繫我們</a>。為了確保您得到最快的回應，以下是解決問題所需的支援清單。</p>

<ul>
	<li>流的具體症狀。例如，它是根本不播放還是口吃或凍結？</li>
	<li>這個流是否在過去正常工作</li>
	<li>您在編碼器中使用的入口點 URL</li>
	<li>您使用的編碼軟件和硬件</li>
	<li>您發佈直播活動的玩家 URL</li>
	<li>影片雲端工作室中即時資產的視訊 ID</li>
	<li>從編碼器到發佈點主機的追蹤路由結果</li>
</ul>
</section>
</article>
