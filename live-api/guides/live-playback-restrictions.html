---
title: 實時流的播放限制
description: 在本主題中，您將學習如何對直播流使用播放限制。
parent: Guides 
grandparent: Live API
---
 <h1>此頁面已移動 - 您將被定向到<a href="https://apis.support.brightcove.com/live-api/guides/live-playback-restrictions.html">新地點</a>在 3 秒內。請更新您的書籤！</h1>
<script type="text/javascript">
var t = setTimeout(function() { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/live-playback-restrictions.html'; } , 3000);
</script>
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary> 
  <!-- <br>
  <aside class="bcls-aside bcls-aside--tip">This feature is available for a specific set of customers with access to the Limited Availability phase of Brightcove Playback Restrictions.</aside> -->

  <section class="bcls-section">
    <h2 id="Introduction">簡介</h2>
    <p>可以為實時作業啟用播放限制，以擴展DRM提供的保護，包括：</p>
    <ul>
      <li>將播放限制為特定的用戶代理</li>
      <li>限制IP地址的數量</li>
      <li>限制總用戶</li>
    </ul>

    <p>要獲得一組全面的限制，可以使用“播放權限" API對其進行配置。在這種情況下，您可以將<code translate="No">playback_rights_id</code>帶視頻。有關詳細信息，請參見<a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html#Asset_level_restrictions">資產級限制</a>概述部分：Brightcove播放限製文檔。</p>

    <p>對於運行時限制，您可以指定JSON Web令牌（JWT）聲明。這些限制包括流並發和設備限制。有關詳細信息，請參見<a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html#Runtime_restrictions">運行時限制</a>概述部分：Brightcove播放限製文檔。</p>

    <p>使用實時流，您還可以為用戶覆蓋DRM CRT。有關詳細信息，請參見<a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html#License_Keys_Protection">許可證密鑰保護</a>概述部分：Brightcove播放限製文檔。</p>

    <p>無論選擇哪種模式，工作請求都必須包含<code translate="No">videocloud.video</code>屬性，以便創建Video Cloud視頻並將其鏈接到實時作業。這<code translate="No">playback_rights_id</code>可以在“視頻雲"視頻上更新屬性，以通過更改播放限制<a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">CMS API</a>。</p>
    <p>您還需要<a href="https://general.support.brightcove.com/developer/create-json-web-token.html">創建一個JSON Web令牌（JWT）</a>有適當的主張。JWT將需要包含在任何許可證服務器請求中。如果您要實現自己的播放器，則需要在任一<code translate="No">BCOV-Auth</code>標頭或<code translate="No">bcov_auth</code>查詢參數（除了DRM令牌）。</p>
  </section>

  <section class="bcls-section">
    <h2 id="Create_Live_job">創建現場工作</h2>
    <p>您可以創建利用回放限制的實時作業。有關創建實時流的詳細信息，請參見<a href="/live-api/getting-started/quick-start-create-live-stream-using-brightcove-live-api.html">使用Brightcove Live API創建直播</a>文檔。</p>

    <h3>新領域</h3>
    <p>以下新字段用於向實時作業添加播放限制。</p>
    <ul>
      <li>
        <h4><code translate="No">drm</code>目的：</h4>
        <dl>
          <dt><code translate="No">require_playback_token</code>（布爾值）</dt>
          <dd>申請許可證時，需要回放身份驗證JWT。</dd>
          <dt><code translate="No">check_playback_rights</code>（布爾值）</dt>
          <dd>申請許可證時，需要回放身份驗證JWT。使用與視頻或JWT相關聯的播放權限ID來實施限制。</dd>
        </dl>
      </li>
      <li>
        <h4><code translate="No">videocloud.video</code>目的：</h4>
        <aside class="bcls-aside bcls-aside--information">請注意，必須使用 CMS API 將此字段添加到視頻 <em>後</em> 您創建實時作業，因為在創建視頻時無法添加它。</aside>
        <dl>
          <dt><code translate="No">playback_rights_id</code>（細繩）</dt>
          <dd>將指定的播放限制與視頻相關聯。</dd>
        </dl>
      </li> 
    </ul>

    <h3 id="Sample_request_response">樣品要求和回應</h3>
    <p>以下是用於創建具有“播放限制"的實時作業的示例實時API請求正文。</p>
    <aside class="bcls-aside bcls-aside--information">還有一個 CMS API 請求，用於更新為實時作業創建的視頻<code translate="No">playback_rights_id</code> .此欄位只能與<strong>更新視訊</strong>要求一起新增，因此必須在即時 API 要求建立視訊之後新增。)</aside> 

    <h3>樣品索取主體</h3>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;live_stream&quot;: true,
  &quot;region&quot;: &quot;us-west-2&quot;,
  &quot;reconnect_time&quot;: 300,
  &quot;ad_insertion&quot;: false,
  &quot;static&quot;: false,
  &quot;drm&quot;: {
    &quot;modes&quot;:[&quot;all&quot;],
    <span class="bcls-highlignt">&quot;require_playback_token&quot;: true,</span>
    <span class="bcls-highlignt">&quot;check_playback_rights&quot;: true</span>
  },
  &quot;live_dvr_sliding_window_duration&quot;: 300,
  &quot;videocloud&quot;: {
    &quot;live_to_vod&quot;: true,
    &quot;video&quot;: {
        &quot;name&quot;: &quot;Test EPA&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;long_description&quot;: &quot;&quot;,
        &quot;tags&quot;: [],
        &quot;reference_id&quot;: &quot;&quot;,
        &quot;link&quot;: {
            &quot;url&quot;: &quot;&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;custom_fields&quot;: {}
      }
  },  
  &quot;outputs&quot;: [{
      &quot;label&quot;: &quot;hls720p&quot;,
      &quot;live_stream&quot;: true,
      &quot;height&quot;: 720,
      &quot;video_bitrate&quot;: 2000,
      &quot;segment_seconds&quot;: 6,
      &quot;keyframe_interval&quot;: 60
  },
  {
      &quot;label&quot;: &quot;hls480p&quot;,
      &quot;live_stream&quot;: true,
      &quot;height&quot;: 480,
      &quot;video_bitrate&quot;: 1000,
      &quot;segment_seconds&quot;: 6,
      &quot;keyframe_interval&quot;: 60
  }
}</code></pre>

    <details>
      <summary><h2>樣品回复</h2></summary>
      <p>高亮行包含視頻<code translate="No">id</code>您需要添加<code translate="No">playback_rights_id</code></p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;id&quot;: &quot;f47487cf81f84764b280fbfaefed524a&quot;,
  &quot;outputs&quot;: [
      {
          &quot;id&quot;: &quot;0-f47487cf81f84764b280fbfaefed524a&quot;,
          &quot;label&quot;: &quot;hls720p&quot;
      },
      {
          &quot;id&quot;: &quot;1-f47487cf81f84764b280fbfaefed524a&quot;,
          &quot;label&quot;: &quot;hls480p&quot;
      },
      {
          &quot;id&quot;: &quot;2-f47487cf81f84764b280fbfaefed524a&quot;,
          &quot;playlist_type&quot;: &quot;defaultS3&quot;,
          &quot;type&quot;: &quot;playlist&quot;,
          &quot;drm&quot;: {
              &quot;token&quot;: &quot;eyJh...axy8&quot;,
              &quot;modes&quot;: [
                  {
                      &quot;type&quot;: &quot;fairplay&quot;,
                      &quot;key_system&quot;: &quot;com.apple.fps.1_0&quot;,
                      &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJh...axy8&quot;,
                      &quot;certificate_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJh...axy8&quot;,
                      &quot;filename&quot;: &quot;playlist_fp.m3u8&quot;,
                      &quot;dvr_filename&quot;: &quot;playlist_fp_dvr.m3u8&quot;,
                      &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8&quot;,
                      &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8&quot;,
                      &quot;playback_added_cdns&quot;: []
                  },
                  {
                      &quot;type&quot;: &quot;widevine&quot;,
                      &quot;key_system&quot;: &quot;com.widevine.alpha&quot;,
                      &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJh...axy8&quot;,
                      &quot;filename&quot;: &quot;playlist_wv.m3u8&quot;,
                      &quot;dvr_filename&quot;: &quot;playlist_wv_dvr.m3u8&quot;,
                      &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8&quot;,
                      &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8&quot;,
                      &quot;playback_added_cdns&quot;: []
                  },
                  {
                      &quot;type&quot;: &quot;playready&quot;,
                      &quot;key_system&quot;: &quot;com.microsoft.playready&quot;,
                      &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8&quot;,
                      &quot;filename&quot;: &quot;playlist.mpd&quot;,
                      &quot;dvr_filename&quot;: &quot;playlist_dvr.mpd&quot;,
                      &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd&quot;,
                      &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd&quot;,
                      &quot;playback_added_cdns&quot;: []
                  }
              ],
              &quot;token_expires_in&quot;: 43200,
              &quot;require_playback_token&quot;: true,
              &quot;check_playback_rights&quot;: true
          }
      }
  ],
  &quot;stream_url&quot;: &quot;rtmp://ep8-usw2.a-live.io:1935/f47487cf81f84764b280fbfaefed524a&quot;,
  &quot;stream_name&quot;: &quot;alive&quot;,
  &quot;static&quot;: false,
  &quot;event_length&quot;: 93600,
  <span class="bcls-highlight">&quot;job_videocloud_asset_id&quot;: &quot;70701312966202&quot;,</span>
  &quot;encryption&quot;: {},
  &quot;drm_enabled&quot;: true,
  &quot;drm&quot;: {
    &quot;token&quot;: &quot;eyJh...axy8&quot;,
    &quot;modes&quot;: [
      {
        &quot;type&quot;: &quot;fairplay&quot;,
        &quot;key_system&quot;: &quot;com.apple.fps.1_0&quot;,
        &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJhb...axy8&quot;,
        &quot;certificate_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJhb...axy8&quot;,
        &quot;filename&quot;: &quot;playlist_fp.m3u8&quot;,
        &quot;dvr_filename&quot;: &quot;playlist_fp_dvr.m3u8&quot;,
        &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8&quot;,
        &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8&quot;,
        &quot;playback_added_cdns&quot;: []
      },
      {
        &quot;type&quot;: &quot;widevine&quot;,
        &quot;key_system&quot;: &quot;com.widevine.alpha&quot;,
        &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJhb...axy8&quot;,
        &quot;filename&quot;: &quot;playlist_wv.m3u8&quot;,
        &quot;dvr_filename&quot;: &quot;playlist_wv_dvr.m3u8&quot;,
        &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8&quot;,
        &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8&quot;,
        &quot;playback_added_cdns&quot;: []
      },
      {
        &quot;type&quot;: &quot;playready&quot;,
        &quot;key_system&quot;: &quot;com.microsoft.playready&quot;,
        &quot;license_url&quot;: &quot;https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8&quot;,
        &quot;filename&quot;: &quot;playlist.mpd&quot;,
        &quot;dvr_filename&quot;: &quot;playlist_dvr.mpd&quot;,
        &quot;playback_url&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd&quot;,
        &quot;playback_url_dvr&quot;: &quot;https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd&quot;,
        &quot;playback_added_cdns&quot;: []
      }
    ],
    &quot;token_expires_in&quot;: 43200,
    &quot;require_playback_token&quot;: true,
    &quot;check_playback_rights&quot;: true
  }
}</code></pre>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="Add_restrictions_to_the_live_job">給現場作業增加限制</h2>
    <p>創建實時流後，您可以使用<a href="https://apis.support.brightcove.com/cms/getting-started/overview-cms-api.html">CMS API</a>。</p>
    
    <h3>CMS API請求</h3>
    <p>要將播放權限ID添加到視頻，請發送<a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">更新影片</a>帶有以下請求正文的CMS API請求：</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
	"playback_rights_id": "<span class="bcls-input">your playback_rights_id</span>"
}</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Deliver_the_stream">傳送流</h2>
    <p>如果您使用Brightcove Web播放器或Brightcove本機播放器SDK之一提供實時流，則“播放限制"的實現與VOD相同。請參閱以下內容：</p>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/implementing-playback-rights.html#Configure_your_player">配置播放器</a>實施播放權文檔中的</li>
    </ul>
  </section>
</article>