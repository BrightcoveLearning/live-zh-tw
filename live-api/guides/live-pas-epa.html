---
title:使用帶有實時描述的PAS / EPA：本主題涵蓋對直播流使用播放授權服務 (PAS) 或播放權限管理服務 (EPA)
parent: Guides 
grandparent: Live API
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article" id="bcls_article">
  <summary>{{ page.description }}</summary>
  <aside class="bcls-aside bcls-aside--information"><a href="https://apis.support.brightcove.com/playback-authorization/index.html">考績制度</a>和<a href="https://apis.support.brightcove.com/playback-rights/index.html">環保署</a>目前處於有限可用性版本中。如果您有興趣使用這些服務，請聯繫您的客戶經理。</aside>
  <section class="bcls-section">
    <h2 id="Introduction">簡介</h2>
    <p>可以為實時作業啟用PAS或EPA，以擴展DRM提供的保護。PAS提供了一組有限的限制：將播放限制為特定的用戶代理，或者限制IP地址更改的次數或總使用量。在實時情況下，它還允許客戶為該用戶覆蓋DRM CRT。這些限制直接在播放授權中指定<a href="https://general.support.brightcove.com/developer/create-jwt-stage.html#Claims_for_Playback_Authorization">智威湯遜</a>。</p>
    <p>EPA提供了一套更為全面的限制。這些限制中的一組是通過“播放權限管理" API配置的，並使用播放權限進行引用<code translate="No">id</code>。這<code translate="No">id</code>可以與視頻相關聯（使用<code translate="No">playback_rights_id</code>屬性顯示在下面）或包含在<a href="https://general.support.brightcove.com/developer/create-jwt-stage.html#Claims_for_Playback_Rights">智威湯遜</a>。第二組涉及用戶級別的限制，例如並發限制和設備數量。這些是在JWT聲明中直接指定的（還必須包括用戶ID [v <code translate="No">uid</code>宣稱]）。</p>
    <p>對於任何一種模式，作業請求都必須包含一個<code translate="No">videocloud.video</code>屬性，以便創建Video Cloud視頻並將其鏈接到實時作業。這<code translate="No">playback_rights_id</code>可以在“視頻雲"視頻上更新屬性，以通過更改播放限制<a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">CMS API</a>。</p>
    <p>您還需要<a href="https://general.support.brightcove.com/developer/create-jwt-stage.html">創建一個JWT</a>根據您使用的產品，具有適用於PAS或EPA的聲明。JWT將需要包含在任何許可證服務器請求中。如果您要實現自己的播放器，則需要在任一<code translate="No">BCOV-Auth</code>標頭或<code translate="No">bcov_auth</code>查詢參數（除了DRM令牌）。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Create_Live_job_with_EPA_PAS">使用EPA / PAS創建現場工作</h2>
    <p>以下新字段用於將EPA和/或PAS添加到實時作業中：</p>
    <h3>的新領域<code translate="No">drm</code>目的：</h3>
    <dl>
      <dt><code translate="No">require_playback_token</code>（布爾值）</dt>
      <dd>啟用PAS。申請許可證時，需要回放身份驗證JWT。</dd>
      <dt><code translate="No">check_playback_rights</code>（布爾值）</dt>
      <dd>啟用EPA。申請許可證時，需要回放身份驗證JWT。使用與視頻或JWT相關聯的播放權限ID來實施限制。</dd>
    </dl>
    <h3>的新領域<code translate="No">videocloud.video</code>目的：</h3>
    <aside class="bcls-aside bcls-aside--information">請注意，必須使用 CMS API 將此字段添加到視頻 <em>後</em> 您創建實時作業，因為在創建視頻時無法添加它。</aside>
    <dl>
      <dt><code translate="No">playback_rights_id</code>（細繩）</dt>
      <dd>將指定的EPA播放權限與視頻相關聯。</dd>
    </dl>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_request_response">樣品要求和回應</h2>
    <p>以下是用於使用EPA創建實時作業的示例實時API請求正文。注意還有一個CMS API請求，以使用<code translate="No">playback_rights_id</code>。（此字段只能與<strong>更新影片</strong>請求，因此必須在Live API請求創建視頻之後添加。）</p>
    <h3>樣品索取主體</h3>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "live_stream": true,
  "region": "us-west-2",
  "reconnect_time": 300,
  "ad_insertion": false,
  "static": false,
  "drm": {
    "modes":["all"],
    <span class="bcls-highlignt">"require_playback_token": true,</span>
    <span class="bcls-highlignt"></span>"check_playback_rights": true</code> }, "live_dvr_sliding_window_duration": 300, "videocloud": { "live_to_vod": true, "video": { "name": "Test EPA", "description": "", "long_description": "", "tags": [], "reference_id": "", "link": { "url": "", "text": "" }, "custom_fields": {} } }, "outputs": [{ "label": "hls720p", "live_stream": true, "height": 720, "video_bitrate": 2000, "segment_seconds": 6, "keyframe_interval": 60 }, { "label": "hls480p", "live_stream": true, "height": 480, "video_bitrate": 1000, "segment_seconds": 6, "keyframe_interval": 60 }] } </code></pre>
    <details>
      <summary><h2>樣品回复</h2></summary>
      <p>高亮行包含視頻<code translate="No">id</code>您需要添加<code translate="No">playback_rights_id</code></p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "id": "f47487cf81f84764b280fbfaefed524a",
  "outputs": [
      {
          "id": "0-f47487cf81f84764b280fbfaefed524a",
          "label": "hls720p"
      },
      {
          "id": "1-f47487cf81f84764b280fbfaefed524a",
          "label": "hls480p"
      },
      {
          "id": "2-f47487cf81f84764b280fbfaefed524a",
          "playlist_type": "defaultS3",
          "type": "playlist",
          "drm": {
              "token": "eyJh...axy8",
              "modes": [
                  {
                      "type": "fairplay",
                      "key_system": "com.apple.fps.1_0",
                      "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJh...axy8",
                      "certificate_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJh...axy8",
                      "filename": "playlist_fp.m3u8",
                      "dvr_filename": "playlist_fp_dvr.m3u8",
                      "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8",
                      "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8",
                      "playback_added_cdns": []
                  },
                  {
                      "type": "widevine",
                      "key_system": "com.widevine.alpha",
                      "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJh...axy8",
                      "filename": "playlist_wv.m3u8",
                      "dvr_filename": "playlist_wv_dvr.m3u8",
                      "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8",
                      "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8",
                      "playback_added_cdns": []
                  },
                  {
                      "type": "playready",
                      "key_system": "com.microsoft.playready",
                      "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8",
                      "filename": "playlist.mpd",
                      "dvr_filename": "playlist_dvr.mpd",
                      "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd",
                      "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd",
                      "playback_added_cdns": []
                  }
              ],
              "token_expires_in": 43200,
              "require_playback_token": true,
              "check_playback_rights": true
          }
      }
  ],
  "stream_url": "rtmp://ep8-usw2.a-live.io:1935/f47487cf81f84764b280fbfaefed524a",
  "stream_name": "alive",
  "static": false,
  "event_length": 93600,
  <span class="bcls-highlignt">"job_videocloud_asset_id": "70701312966202",</span>
  "encryption": {},
  "drm_enabled": true,
  "drm": {
    "token": "eyJh...axy8",
    "modes": [
      {
        "type": "fairplay",
        "key_system": "com.apple.fps.1_0",
        "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/fp?token=eyJhb...axy8",
        "certificate_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/cert/fp?token=eyJhb...axy8",
        "filename": "playlist_fp.m3u8",
        "dvr_filename": "playlist_fp_dvr.m3u8",
        "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp.m3u8",
        "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_fp_dvr.m3u8",
        "playback_added_cdns": []
      },
      {
        "type": "widevine",
        "key_system": "com.widevine.alpha",
        "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/wv?token=eyJhb...axy8",
        "filename": "playlist_wv.m3u8",
        "dvr_filename": "playlist_wv_dvr.m3u8",
        "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv.m3u8",
        "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_wv_dvr.m3u8",
        "playback_added_cdns": []
      },
      {
        "type": "playready",
        "key_system": "com.microsoft.playready",
        "license_url": "https://license-proxy-qa.alive.us-west-2.qa.deploys.brightcove.com/lic/pr?token=eyJh...axy8",
        "filename": "playlist.mpd",
        "dvr_filename": "playlist_dvr.mpd",
        "playback_url": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist.mpd",
        "playback_url_dvr": "https://playback-qa.a-live.io/f47487cf81f84764b280fbfaefed524a/us-west-2/NA/playlist_dvr.mpd",
        "playback_added_cdns": []
      }
    ],
    "token_expires_in": 43200,
    "require_playback_token": true,
    "check_playback_rights": true
  }
}</code></pre>
    </details>
    <h3>CMS API請求</h3>
    <p>要將播放權限ID添加到視頻，請發送<a href="https://apis.support.brightcove.com/cms/references/reference.html#operation/UpdateVideo">更新影片</a>帶有以下請求正文的CMS API請求：</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
	"playback_rights_id": "<span class="bcls-input">your playback_rights_id</span>"
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="player_implementation">玩家實施</h2>
    <p>如果您使用Brightcove Web播放器或Brightcove本機播放器SDK之一交付實時流，則PAS或EPA的實現與VOD相同。請參閱以下內容之一：</p>
    <h3>聚苯乙烯</h3>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-bcp.html">在Brightcove Player中使用播放授權DRM</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-sdks.html">將播放授權DRM與本機SDK結合使用</a></li>
    </ul>
    <h3>環保局</h3>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-bcp.html">在Brightcove Player中使用播放權限</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-sdks.html">在本機SDK中使用播放權</a></li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Related_topics">相關主題</h2>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/index.html">聚苯乙烯</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-rights/index.html">環保局</a></li>
      <li><a href="https://general.support.brightcove.com/developer/create-jwt-stage.html#Claims_for_Playback_Authorization">創建JSON Web令牌（JWT）</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-bcp.html">在Brightcove Player中使用播放授權DRM</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-authorization/guides/using-pas-with-sdks.html">將播放授權DRM與本機SDK結合使用</a></li>
      <li>a href ="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-bcp.html"&gt;在Brightcove Player中使用播放權限</a></li>
      <li><a href="https://apis.support.brightcove.com/playback-rights/guides/using-epa-with-sdks.html">在本機SDK中使用播放權</a></li>
    </ul>
  </section>
</article>

<script>
  var h1 = document.querySelector('h1'), path = location.pathname, new_location = 'https://live.support.brightcove.com/live-api/guides/live-playback-restrictions.html', message = '<h3>此頁面已移至 <a href="' + new_location + '">' + new_location + '</a>。請更新您的書籤！您將在 5 秒內被重定向。<h3>'; console.log('new_location', new_location); h1.insertAdjacentHTML('afterend', message);重定向（）；函數重定向（）{ var t = window.setTimeout(go_to_new_location, 5000); }函數 go_to_new_location() { window.location.href = new_location; }
</script>