---
title: '實時 API：靜態進入點'
parent: Guides 
grandparent: Live API
---
 <h1>此頁面已移動-您將在 3 秒內被導向到<a href="https://apis.support.brightcove.com/live-api/guides/live-api-static-entry-points.html">新位置</a>。請更新您的書籤！</h1>
<script type="text/javascript">
var t = setTimeout(function() { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/live-api-static-entry-points.html'; } , 3000);
</script>
<article class="bcls-article">
  <h1>實時 API：靜態進入點</h1> 
  <summary>本主題說明靜態入口點以及如何使用Live API實施它們。</summary>




<section class="bcls-section">
<h2 id="Introduction">簡介</h2>

<p>靜態入口點（SEP）功能允許長時間運行的實時作業，可以激活和停用該作業，同時保持入口點URL和回放URL靜態且可重複使用。該功能允許客戶在自己的設施或現場配置編碼器，並允許客戶為直播頻道或節目創建自己的調度邏輯。</p>
</section>

<section class="bcls-section">
<h2 id="dvr_and_sep">DVR和SEP</h2>

<p>DVR功能可用於靜態入口點，但僅當SEP為<strong>活性</strong>。</p>
</section>

<section class="bcls-section">
<h2 id="Creating_a_static_entry_point">創建一個靜態入口點</h2>

<p>標準<a href="/live-api/references/reference.html#api-Live_Jobs-Create_a_Live_Job">建立工作</a>將使用操作，但是要添加靜態入口點，需要將一個屬性添加到作業請求中：</p>

<pre>
<code class="language-json" translate="No">"static": true</code></pre>

<p>來自該作業的響應RTMP URL將是靜態的，然後可以通過使用以下各節中所述的操作來激活/停用該作業，從而重新使用該URL。請閱讀並理解本文檔末尾列出的限制。</p>
</section>

<section class="bcls-section">
<h2 id="max_waiting_time">最長等待時間</h2>

<p>激活SEP作業後，如果未啟動編碼器，它將在一段時間後自動停用。規則如下：</p>

<ul>
	<li>如果<code translate="No">event_length</code>值大於30分鐘，則默認情況下作業將在30分鐘後自動終止-如果您希望更改等待時間，則需要與支持人員聯繫。無法禁用自動停用功能。</li>
	<li>如果<code translate="No">event_length&nbsp;</code>值小於<code translate="No">reconnect_time</code>，作業將在為設置的時間終止<code translate="No">event_length</code>。</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Activate_static_entry_point_stream">激活SEP直播</h2>

<p>要激活靜態入口點實時流，請將以下請求發送到Live API：</p>

<aside class="bcls-aside bcls-aside--information">為了能夠攝取到靜態入口點，您必須使<code translate="No">activate</code> API 請求。</aside>

<table class="bcls-table">
	<caption class="bcls-caption--table">活動SEP流</caption>
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td><code translate="No">PUT</code></td>
		</tr>
		<tr>
			<th>端點</th>
			<td>
			<pre>
<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">{jobID}</span>/<strong>activate</strong></code></pre>
			</td>
		</tr>
	</tbody>
</table>

<p>不需要請求正文。</p>
</section>

<section class="bcls-section">
<h2 id="Deactivate_static_entry_point_stream">停用SEP直播</h2>

<aside class="bcls-aside bcls-aside--warning">在停用流之前始終停止編碼器。停用可能不會立即發生，因此您可以準確控制觀看者何時停止接收內容。</aside>

<p>要停用靜態入口點實時流，請將以下請求發送到Live API：</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">活動SEP流</caption>
	<tbody class="bcls-table__body">
		<tr>
			<th>方法</th>
			<td><code translate="No">PUT</code></td>
		</tr>
		<tr>
			<th>端點</th>
			<td>
			<pre>
<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">{jobID}</span>/<strong>deactivate</strong></code></pre>
			</td>
		</tr>
	</tbody>
</table>

<aside class="bcls-aside bcls-aside--information">當您停用靜態入口點時，流的最後幾秒仍可播放。</aside>

<p>不需要請求正文。</p>
</section>

<section class="bcls-section">
<h2 id="Cancel_sep_job">取消SEP作業</h2>

<p>要永久停止靜態入口點作業，可以像發送任何實時作業一樣取消該作業，方法是發送一個<code translate="No">PUT</code>請求端點<code translate="No">/jobs/{job_id}/cancel</code>。見<a href="/live-api/references/reference.html#operation/CancelLiveJob">API參考</a>有關完整的詳細信息。</p>
</section>

<section class="bcls-section">
<h2 id="Limitations">限制</h2>

<ul>
	<li>不能將Live to VOD設置為在完成時將流存檔。
	<p style="font-weight:bold;">備擇方案：</p>

	<ul>
		<li>用<a href="/live-api/guides/live-api-creating-vod-clips.html">剪裁</a>將完整的直播活動存檔為VOD。在事件發生後或直到SEP下次激活（以較短者為準）之後的標準時間內，剪輯窗口將可用。</li>
	</ul>
	</li>
	<li>作業設置無法修改。它們當前與最初創建SEP的設置相關。</li>
	<li>激活流最多可能需要60秒才能使入口點可用。
	<p style="font-weight:bold;">最佳實踐：</p>

	<p>從Live平台實施通知以更改作業狀態，以獲取SEP作業實際準備就緒時的實時更新。</p>

	<p style="font-weight:bold;">備擇方案：</p>

	<ol>
		<li>在啟動編碼器之前至少60秒激活流。</li>
		<li>如果編碼器具有內置的重試功能（有線，元素等），則可以立即連接流（儘管可能會出現一些錯誤），並且只要有可用的入口點，編碼器就會重新連接。</li>
	</ol>
	</li>
	<li>Reconnect_time仍然適用於編碼器斷開連接時的SEP作業。如果達到了重新連接時間，則SEP作業將回到停用狀態。
	<p style="font-weight:bold;">最佳實踐：</p>

	<p>作業完成後，請務必通過API停用流，並將重新連接時間設置為可接受的時間範圍以備斷開連接（在此等待期間會產生輸入小時成本）。</p>
	</li>
	<li>每個賬戶只會分配 3 個可用的 SEP 職位 <em>每個地區</em>。如果達到極限，則需要<a href="/live-api/references/reference.html#operation/CancelLiveJob">取消</a>您可以先創建一項SEP作業，然後才能創建新的SEP作業。
	<p>如果您已達到SEP作業的最大數量並嘗試創建另一個作業，則將返回以下錯誤：</p>

	<pre class="line-numbers">
<code class="language-json" translate="No">{
  "error": "You've reached the number of static entry points jobs you can create for your account"
}</code></pre>
      </li>
      <li>如果您嘗試一次激活5個以上的SEP作業，則會收到類似以下的錯誤消息：
<pre class="line-numbers"><code class="language-json" translate="No">{
  “message”:“Allocating additional streaming capacity to the region. Please retry your request.: no_streaming_capacity_in_region”,
  “statusCode”:500,
  “name”:“ApiError”,
  “isApiError”:true
}</code></pre>
        <p>您需要等到某些作業完成激活後才能重試該請求。</p>
      </li>
    </ul>
</section>

<section class="bcls-section">
<h2 id="Notes">注意事項</h2>

<dl>
	<dt>停用後剪切SEP作業</dt>
	<dd>用戶可以創建剪輯，直到流的下一次激活為止，也可以創建7天，以較短者為準。重新啟動串流時，先前的錄製工作階段會從伺服器中移除，且無法再剪輯。</dd>
	<dt>使用SEP時stream_start_time字段的時間是什麼？</dt>
	<dd>激活SEP時，將被視為開始時間。</dd>
</dl>
</section>
</article>