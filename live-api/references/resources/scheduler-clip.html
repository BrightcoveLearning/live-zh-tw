<article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-clip" class="anchor" aria-hidden="true" href="#clip"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>夾子</h1>
	<p>使用“剪輯"端點，您可以安排現有實時作業的剪輯事件。在指定的時間，我們的系統將進行必要的API調用，以代表您啟動Clip Job。</p>
	<h2><a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>要求</h2>
	<ul>
	<li>您帳戶的實時API密鑰。</li>
	<li>您的真實帳戶必須啟用了計劃程序替代。</li>
	</ul>
	<h2><a id="user-content-create-a-clip-workflow" class="anchor" aria-hidden="true" href="#create-a-clip-workflow"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>創建剪輯工作流程</h2>
	<p>創建剪輯時，您必須同時指定剪輯時間邊界（在<code translate="no">輸出</code>字段）和預定時間（<code translate="no">時間_UTC</code>字段）發出剪輯請求。</p>
	<p>這<code translate="no">輸出</code>請求正文中的字段支持所有相同的字段<code translate="no">產出</code>標準 VOD 端點中的字段，但是計劃剪輯僅支持單個輸出而不是列表。看<a href="https://live.support.brightcove.com/live-api/guides/live-api-creating-vod-clips.html" rel="nofollow">視頻點播支持文檔</a>有關可用字段的詳細信息。</p>
	<p>通常，您會設置<code translate="no">時間_UTC</code>以匹配剪輯的結束邊界。計劃時間必須在片段的結束邊界之後，否則片段請求將在計劃時間失敗。</p>
	<p>時間戳<code translate="no">時間_UTC</code>字段必須是 UTC 格式，以秒為單位的 unix 時間戳。您可以使用<a href="https://www.unixtimestamp.com/" rel="nofollow">https://www.unixtimestamp.com/</a>進行轉換。</p>
	<p>假設我們要安排一個 15 分鐘的剪輯，該剪輯將在<code translate="no">2021-02-09T13:55:00+00:00</code> .我們可以使用<code translate="no">output.start_time</code>和<code translate="no">output.end_time</code>將我們的剪輯邊界指定為以秒為單位的 unix 時間。（再次，請參見<a href="https://live.support.brightcove.com/live-api/guides/live-api-creating-vod-clips.html" rel="nofollow">視頻點播支持文檔</a>（有關可用字段的詳細信息）。</p>
	<pre><code translate="no">開始時間：2021-02-09T13:55:00+00:00 = 1612878900 結束時間：2021-02-09T14：上午十點以上</code> </pre>
	<p>由於調度器還需要一個時間來調度剪輯請求，我們可以使用相同的值<code translate="no">時間結束</code>因為它也是以秒為單位的 unix 時間。</p>
	<p>我們還想為剪輯創建一個 Videocloud 視頻，因此我們將其包含在<code translate="no">輸出</code> .在計劃工作流程時將創建一個Videocloud視頻，其ID將在響應中返回，以便您可以在製作剪輯之前知道該視頻ID。如果您以後取消剪輯請求或它在預定的時間失敗，則不會將Videocloud Video從您的帳戶中刪除。</p>
	<p>要創建工作流程，請執行以下請求</p>
	<pre><code translate="no">POST https://api.bcovlive.io/v1/scheduler/clip 標題：內容類型：application/json X-API-KEY：您的 API 密鑰主體：{ "job_id": "your Job ID", "description": "My Scheduled Clip", "clip": { "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879800, "videocloud": { "video": { "name": "My Scheduled Clip" } } }, "time_utc":1612879800}} </code> </pre>
	<p>您應該收到類似的回复</p>
	<pre><code translate="no"> { "account_id": "your Account ID", "description": "My Tuesday Clip", "type": "clip", "job_id": "your Job ID", "clip": { "state": "pending", "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879800, "videocloud": { "video": { "id": "70702010152202", "name": "My Scheduled Clip" } } }, "time_utc": 1612879800 } "workflow_id": "d44cf29f4f184757ac0995beb8a0097e", } </code></pre>
	<p>注意<code translate="no">clip.output.videocloud.video.id</code>包含新創建的 Videocloud Video 的 ID。在<code translate="no">時間_UTC</code>視頻源將使用攝取的剪輯進行更新。</p>
	<h2><a id="user-content-update-a-clip-workflow" class="anchor" aria-hidden="true" href="#update-a-clip-workflow"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>更新剪輯工作流程</h2>
	<p>您可以同時更新<code translate="no">輸出</code>和<code translate="no">時間_UTC</code>你的剪輯。這些只能在以下情況下更新<code translate="no">“狀態”：“待定”</code> .</p>
	<p>在前面的示例之後，我們希望剪輯比計劃的短5分鐘。當更新<code translate="no">輸出</code>字段，您必須提供完整的對象，而不僅僅是所做的更改。這包括上面的create調用返回的Videocloud Video ID。</p>
	<p>請注意，在此示例中，我們同時更新了<code translate="no">時間結束</code>和<code translate="no">時間_UTC</code>以反映 5 分鐘的減少。</p>
	<pre><code translate="no">PUT https://api.bcovlive.io/v1/scheduler/clip/workflow_id 標頭：內容類型：application/json X-API-KEY：您的 API 密鑰主體：{ "clip": { "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879500, "videocloud": { "video": { "id": "70702010152202", "name": "My Scheduled Clip" } } }, "time_utc":1612879500} </code> </pre>
	<p>您將在響應中收到更新的工作流程。</p>
	<pre><code translate="no">{ "account_id": "your Account ID", "description": "My Tuesday Clip", "type": "clip", "job_id": "your Job ID", "clip": { "state": "pending", "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879500, "videocloud": { "video": { "id": "70702010152202", "name": "My Scheduled Clip" } } }, "time_utc": 1612879500 } "workflow_id": "d44cf29f4f184757ac0995beb8a0097e", }</code></pre>
	<h2><a id="user-content-cancel-a-clip-workflow" class="anchor" aria-hidden="true" href="#cancel-a-clip-workflow"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>取消剪輯工作流程</h2>
	<p>您可以使用<code translate="no">刪除</code>要求。</p>
	<p>請注意，在取消剪輯工作流程時，在安排時間創建的任何Videocloud視頻都將不是被後端刪除。您必須手動從Videocloud帳戶中刪除孤立的視頻。</p>
	<pre><code translate="no">刪除 https://api.bcovlive.io/v1/scheduler/clip/workflow_id 標頭：X-API 金鑰：您的 API 金鑰</code> </pre>
	<p>您將在響應中收到更新的工作流程。</p>
	<pre><code translate="no"> { "account_id": "your Account ID", "description": "My Tuesday Clip", "type": "clip", "job_id": "your Job ID", "clip": { "state": "cancelled", "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879500, "videocloud": { "video": { "id": "70702010152202", "name": "My Scheduled Clip" } } }, "time_utc": 1612879500 } "workflow_id": "d44cf29f4f184757ac0995beb8a0097e", } </code></pre>
	<h2><a id="user-content-notifications" class="anchor" aria-hidden="true" href="#notifications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>通知事項</h2>
	<p>您可以選擇在創建工作流程時配置通知。您需要為我們的服務提供一個 URL <code translate="no">郵政</code>到。當調度程序進行剪輯調用時，我們將發送通知。您還可以配置接收通知<code translate="no">n</code>剪輯前幾秒。見<a href="/alive/task-scheduler/blob/main/docs/guide_notifications.md">通知指南</a>更多細節。</p>
	<pre><code translate="no">POST https://api.bcovlive.io/v1/scheduler/clip 標題：內容類型：application/json X-API-KEY：您的 API 密鑰主體：{ "job_id": "your Job ID", "description": "My Scheduled Clip", "notification_url": "http://example.com/live/clip/callbacks", "clip": { "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879800, "videocloud": { "video": { "name": "My Scheduled Clip" } } }, "time_utc": 1612879800, "通知":600}} </code> </pre>
	</article>